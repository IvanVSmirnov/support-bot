services:
  bot:
    build:
      context: .
    container_name: support-bot
    command: sh -c "cd /usr/src/app && python -m app"
    restart: always
    depends_on:
      - redis
    volumes:
      - .:/usr/src/app
    networks:
      - support-bot
    tty: true
    restart: unless-stopped
    

  redis:
    image: redis:alpine
    container_name: support-redis
    restart: always
    volumes:
      - ./redis/data/:/data
    networks:
      - support-bot
    tty: true
    restart: unless-stopped

networks:
  support-bot:
